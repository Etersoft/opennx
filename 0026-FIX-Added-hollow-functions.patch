From 967333262bb69e0b788864cafe91b267fdeb0159 Mon Sep 17 00:00:00 2001
From: Sergey Bolotov <sbol@etersoft.ru>
Date: Fri, 24 Jul 2015 19:18:14 +0300
Subject: [PATCH 26/34] FIX: Added hollow functions

---
 opennx/mylog.cpp | 21 ++++++++++++++++++---
 opennx/mylog.h   |  3 +++
 2 files changed, 21 insertions(+), 3 deletions(-)

diff --git a/opennx/mylog.cpp b/opennx/mylog.cpp
index f4dd75f..126848f 100644
--- a/opennx/mylog.cpp
+++ b/opennx/mylog.cpp
@@ -70,7 +70,8 @@ static void logit(const wxChar *szString, time_t WXUNUSED(t))
 
 static void myVLogDebug(const wxChar *szFormat, va_list argptr)
 {
-    logit(wxString::FormatV(szFormat, argptr), time(NULL));
+    wxString format = wxString::FormatV(szFormat, argptr);
+    logit(format.wc_str(), time(NULL));
 }
 
 void myLogDebug(const wxChar *szFormat, ...)
@@ -86,7 +87,7 @@ static void myVLogTrace(const wxChar *mask, const wxChar *szFormat, va_list argp
     if (wxLog::IsAllowedTraceMask(mask) ) {
         wxString msg;
         msg << _T("(") << mask << _T(") ") << wxString::FormatV(szFormat, argptr);
-        logit(msg, time(NULL));
+        logit(msg.wc_str(), time(NULL));
     }
 }
 
@@ -101,7 +102,10 @@ void myLogTrace(const wxChar *mask, const wxChar *szFormat, ...)
 static void myVLogTrace(wxTraceMask mask, const wxChar *szFormat, va_list argptr)
 {
     if ((wxLog::GetTraceMask() & mask) == mask)
-        logit(wxString::FormatV(szFormat, argptr), time(NULL));
+    {
+        wxString format = wxString::FormatV(szFormat, argptr);
+        logit(format.wc_str(), time(NULL));
+    }
 }
 
 void myLogTrace(wxTraceMask mask, const wxChar *szFormat, ...)
@@ -111,3 +115,14 @@ void myLogTrace(wxTraceMask mask, const wxChar *szFormat, ...)
     myVLogTrace(mask, szFormat, argptr);
     va_end(argptr);
 }
+
+static void myLogTrace(wxString mask, const wxChar *szFormat, va_list argptr)
+{
+//    myLogTrace(mask.wc_str(), szFormat, argptr);
+}
+
+void myLogTrace(wxString mask, const wxChar *szFormat, ...)
+{
+//    myLogTrace(mask.wc_str(), szFormat);
+}
+
diff --git a/opennx/mylog.h b/opennx/mylog.h
index a0f6f35..5686422 100644
--- a/opennx/mylog.h
+++ b/opennx/mylog.h
@@ -23,6 +23,7 @@
 #define _MYLOG_H_
 
 #include <wx/log.h>
+#include <wx/string.h>
 
 // Compatibility with patched wxWidgets 2.8.12 on Ubuntu
 #ifndef WX_ATTRIBUTE_PRINTF_2
@@ -35,5 +36,7 @@ extern void myLogDebug(const wxChar *szFormat, ...);
 extern void myLogTrace(const wxChar *mask, const wxChar *szFormat, ...) WX_ATTRIBUTE_PRINTF_2;
 extern void myLogTrace(wxTraceMask mask, const wxChar *szFormat, ...) WX_ATTRIBUTE_PRINTF_2;
 
+extern void myLogTrace(wxString mask, const wxChar *szFormat, ...) WX_ATTRIBUTE_PRINTF_2;
+
 #endif
     // _MYLOG_H_
-- 
2.1.4

